import{d as Q,g as q,r as y,m as C,o as c,c as r,b as l,w as m,h as d,e as f,n as I,a as k,t as b,i as B,F as T,u as h,j as L,p as P,k as $,l as z,q as G,E,s as j}from"./index-CwAt4-p-.js";const H={class:"w-full px-10"},J=d("div",{class:"p-5"},[d("h1",null,"Drinks"),d("p",{class:"text-sm"},[d("strong",null,"規則: "),f(),d("strong",null,"1."),f("可編輯所有欄位 "),d("strong",null,"2."),f(" 價格最低10元最高120元，調整間距為 5 元 "),d("strong",null,"3."),f("庫存最少最少為 0 最多為 100")])],-1),K={key:0},R={key:1,class:"flex gap-1"},W=d("span",{class:"text-red-500"},"*",-1),X={key:0},Y={key:1,class:"flex gap-1"},Z=d("span",{class:"text-red-500"},"*",-1),ee={key:0,class:"text-base"},ne={key:0,class:"text-base"},ae=Q({__name:"PracticeTwo",setup(te){const n=q({id:"",drinkName:"",price:0,inventory:0,content:""}),p=y([{id:"1",drinkName:"珍珠奶茶",price:50,inventory:99,content:"香濃奶茶搭配QQ珍珠"},{id:"2",drinkName:"冬瓜檸檬",price:45,inventory:18,content:"清新冬瓜配上新鮮檸檬"},{id:"3",drinkName:"翡翠檸檬",price:55,inventory:20,content:"綠茶與檸檬的完美結合"},{id:"4",drinkName:"四季春茶",price:45,inventory:10,content:"香醇四季春茶，回甘無比"},{id:"5",drinkName:"阿薩姆奶茶",price:50,inventory:25,content:"阿薩姆紅茶搭配香醇鮮奶"},{id:"6",drinkName:"檸檬冰茶",price:45,inventory:20,content:"檸檬與冰茶的清新組合"},{id:"7",drinkName:"芒果綠茶",price:55,inventory:1,content:"芒果與綠茶的獨特風味"},{id:"8",drinkName:"抹茶拿鐵",price:60,inventory:20,content:"抹茶與鮮奶的絕配"}]),a=y("view"),D=C(()=>a.value!=="view"),o=y(null),w=y(null),x=C(()=>n.drinkName.trim()!==""&&n.content.trim()!==""),N=(i,e,g,v)=>{n[e]=Math.min(Math.max(i,g),v)},F=(i,e)=>{Object.assign(n,i),a.value="edit",o.value=e},M=()=>{Object.assign(n,{id:(p.value.length+1).toString(),drinkName:"",price:50,inventory:10,content:""}),a.value="add",o.value=0,p.value.unshift({...n}),I(()=>{var i;return(i=w.value)==null?void 0:i.focus()})},U=()=>{if(!x.value){E.error("品項名稱和描述內容為必填");return}a.value==="add"?p.value[0]={...n}:o.value!==null&&Object.assign(p.value[o.value],n),a.value="view",o.value=null,E.success("保存成功")},O=()=>{const i=()=>{a.value==="add"&&p.value.shift(),a.value="view",o.value=null};x.value?j.confirm("您確定要取消編輯嗎？已填寫的內容將會被清除。","提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(i):i()},S=(i,e)=>{j.confirm(`您確定要刪除${i.drinkName}嗎?`,"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>p.value.splice(e,1))};return(i,e)=>{const g=k("el-input"),v=k("el-table-column"),V=k("el-input-number"),_=k("el-button"),A=k("el-table");return c(),r("div",H,[J,l(A,{data:p.value,"max-height":"250",border:""},{default:m(()=>[l(v,{label:"品項",width:"160",align:"center",fixed:""},{default:m(({row:u,$index:s})=>[a.value==="view"||s!==o.value?(c(),r("span",K,b(u.drinkName),1)):(c(),r("div",R,[W,l(g,{modelValue:n.drinkName,"onUpdate:modelValue":e[0]||(e[0]=t=>n.drinkName=t),ref_key:"inputFocus",ref:w},null,8,["modelValue"])]))]),_:1}),l(v,{prop:"content",label:"描述","min-width":"200",align:"left"},{default:m(({row:u,$index:s})=>[a.value==="view"||s!==o.value?(c(),r("span",X,b(u.content),1)):(c(),r("div",Y,[Z,l(g,{modelValue:n.content,"onUpdate:modelValue":e[1]||(e[1]=t=>n.content=t)},null,8,["modelValue"])]))]),_:1}),l(v,{prop:"price",label:"價格",width:"180",align:"center",sortable:""},{default:m(({row:u,$index:s})=>[a.value==="view"||s!==o.value?(c(),r("span",ee,[d("strong",null,b(u.price),1)])):(c(),B(V,{key:1,onChange:e[2]||(e[2]=t=>N(t,"price",10,120)),modelValue:n.price,"onUpdate:modelValue":e[3]||(e[3]=t=>n.price=t),min:10,max:120,step:5},null,8,["modelValue"]))]),_:1}),l(v,{prop:"inventory",label:"庫存",width:"200",align:"center",sortable:""},{default:m(({row:u,$index:s})=>[a.value==="view"||s!==o.value?(c(),r("span",ne,[d("strong",null,b(u.inventory),1)])):(c(),B(V,{key:1,onChange:e[4]||(e[4]=t=>N(t,"inventory",0,100)),modelValue:n.inventory,"onUpdate:modelValue":e[5]||(e[5]=t=>n.inventory=t),min:0,max:100,step:1},null,8,["modelValue"]))]),_:1}),l(v,{fixed:"right",label:"操作",width:"180",align:"center"},{default:m(({row:u,$index:s})=>[a.value==="view"?(c(),r(T,{key:0},[l(_,{onClick:t=>F(u,s),icon:h(L)},null,8,["onClick","icon"]),l(_,{onClick:t=>S(u,s),icon:h(P),type:"danger",plain:""},null,8,["onClick","icon"])],64)):s===o.value?(c(),r(T,{key:1},[l(_,{onClick:O,icon:h($),type:"info",plain:"",class:"p-3 md:p-2"},null,8,["icon"]),l(_,{onClick:U,disabled:!x.value,icon:h(z),type:"success",plain:"",class:"p-3 md:p-2"},null,8,["disabled","icon"])],64)):G("",!0)]),_:1})]),_:1},8,["data"]),l(_,{onClick:M,disabled:D.value,class:"!w-100% mt-4"},{default:m(()=>[f("新增飲品項目")]),_:1},8,["disabled"])])}}});export{ae as default};
